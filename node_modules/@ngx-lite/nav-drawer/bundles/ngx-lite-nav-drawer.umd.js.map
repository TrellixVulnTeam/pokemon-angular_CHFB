{"version":3,"file":"ngx-lite-nav-drawer.umd.js","sources":["../../../projects/ngx-nav-drawer/src/ngx-nav-drawer.component.ts","../../../projects/ngx-nav-drawer/src/ngx-nav-drawer.component.html","../../../projects/ngx-nav-drawer/src/ngx-nav-drawer.module.ts","../../../projects/ngx-nav-drawer/src/public_api.ts","../../../projects/ngx-nav-drawer/src/ngx-lite-nav-drawer.ts"],"sourcesContent":["import {\n  Component,\n  Input,\n  OnInit,\n  OnDestroy,\n  Output,\n  EventEmitter,\n  ViewEncapsulation,\n  ChangeDetectorRef,\n  PLATFORM_ID,\n  Inject,\n  HostListener,\n  ViewChild,\n  ElementRef,\n  OnChanges,\n  ChangeDetectionStrategy,\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { fromEvent, Subscription } from 'rxjs';\n\nimport { trapTabFocus, KeyCodes } from '@ngx-lite/util';\n\n@Component({\n  selector: 'ngx-nav-drawer',\n  templateUrl: './ngx-nav-drawer.component.html',\n  styleUrls: ['./ngx-nav-drawer.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NgxNavDrawerComponent implements OnChanges, OnDestroy, OnInit {\n  @Output() openChange = new EventEmitter<boolean>();\n  @Input()\n  set open(value: boolean) {\n    this.show = value;\n    this.openChange.emit(this.show);\n  }\n\n  @Input() fixed = false;\n  @Input() fixedAtWidth = '1024px';\n  @ViewChild('nav', { static: false }) nav?: ElementRef;\n\n  show = false;\n  fixedMode = false;\n  private subscription?: Subscription;\n  private lastFocusedElement?: HTMLElement;\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: any,\n    private changeDetectorRef: ChangeDetectorRef\n  ) {}\n\n  ngOnInit() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.setFixedPosition();\n      this.subscription = fromEvent(window, 'resize').subscribe((event) =>\n        this.setFixedPosition()\n      );\n    }\n  }\n\n  @HostListener('document:click', ['$event'])\n  rootClick(event: any) {\n    this.lastFocusedElement = event.target;\n  }\n\n  ngOnChanges() {\n    this.focus();\n  }\n\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  @HostListener('window:keyup', ['$event'])\n  outerClick(event: any) {\n    if (event.keyCode === KeyCodes.Escape && this.show === true) {\n      this.toggle();\n    }\n  }\n\n  setFixedPosition() {\n    if (isPlatformBrowser(this.platformId)) {\n      if (\n        window.matchMedia(`(min-width: ${this.fixedAtWidth})`).matches &&\n        this.fixed\n      ) {\n        this.fixedMode = true;\n      } else {\n        this.fixedMode = false;\n      }\n\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  toggle() {\n    if (!this.fixedMode) {\n      this.show = !this.show;\n      this.openChange.emit(this.show);\n    }\n\n    this.focus();\n  }\n\n  focus() {\n    if (this.show) {\n      trapTabFocus(this.nav?.nativeElement);\n    } else if (this.lastFocusedElement) {\n      this.lastFocusedElement.focus();\n    }\n  }\n}\n","<div #nav [class.ngx-nav-drawer-open]=\"show\" [class.ngx-nav-drawer-fixed]=\"fixedMode\">\n  <div class=\"ngx-nav-drawer-overlay\" (click)=\"toggle()\"></div>\n  <nav class=\"ngx-nav-drawer\" (click)=\"toggle()\" [attr.aria-hidden]=\"!show\">\n    <ng-content></ng-content>\n  </nav>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgxNavDrawerComponent } from './ngx-nav-drawer.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [NgxNavDrawerComponent],\n  exports: [NgxNavDrawerComponent],\n})\nexport class NgxNavDrawerModule {}\n","/*\n * Public API Surface of ngx-nav-drawer\n */\n\nexport * from './ngx-nav-drawer.component';\nexport * from './ngx-nav-drawer.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["EventEmitter","isPlatformBrowser","fromEvent","KeyCodes","trapTabFocus","PLATFORM_ID","Component","ViewEncapsulation","ChangeDetectionStrategy","Inject","Output","Input","ViewChild","HostListener","CommonModule","NgModule"],"mappings":"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"}